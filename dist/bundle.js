"use strict";var e=require("react/jsx-runtime"),t=require("react"),r=require("linkify-string");"function"==typeof SuppressedError&&SuppressedError;!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".link-textarea-container__mirror a:link {\n  color: #0000ee !important;\n}\n\n.link-textarea-container__mirror a:visited {\n  color: #551a8b !important;\n}\n\n.link-textarea-container__mirror a {\n  pointer-events: auto !important;\n  text-decoration: underline;\n}\n");var n=function(e){return e.endsWith("px")?parseInt(e.slice(0,-2),10):0},o=t.forwardRef((function(o,i){var a=o.containerStyle,c=void 0===a?{}:a,l=o.textareaStyle,u=void 0===l?{}:l,s=o.containerClassName,d=void 0===s?"":s,f=o.textareaClassName,p=void 0===f?"":f,v=o.linkTarget,g=void 0===v?"_blank":v,m=o.fontColor,y=void 0===m?"black":m,h=o.caretColor,x=void 0===h?"black":h,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(o,["containerStyle","textareaStyle","containerClassName","textareaClassName","linkTarget","fontColor","caretColor"]),C=t.useRef(null),T=t.useRef(null),S=function(e,o){var i=function(t){if(!(null==e?void 0:e.current))throw new Error("Textarea ref is not defined");var r=n(t.paddingLeft)+n(t.paddingRight),o=n(t.paddingTop)+n(t.paddingBottom),i=e.current;return{width:i.clientWidth-r+"px",height:i.clientHeight-o+"px"}};return{resizeObserver:t.useMemo((function(){return new ResizeObserver((function(){if(o.current&&e.current){var t=i(getComputedStyle(e.current)),r=t.width,n=t.height;o.current.style.width=r,o.current.style.height=n}}))}),[e,o,i]),applyStyleToMirroredRef:t.useCallback((function(t){if((null==o?void 0:o.current)&&(null==e?void 0:e.current)){var r=getComputedStyle(e.current);["border","borderLeft","borderRight","borderTop","borderBottom","boxSizing","fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","padding","paddingLeft","paddingRight","paddingTop","margin","marginLeft","marginRight","marginTop","marginBottom","paddingBottom","textDecoration","textIndent","textTransform","whiteSpace","wordSpacing","wordWrap","textAlign","borderRadius"].forEach((function(e){var t=e.split("-").map((function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})).join("");o.current.style[t]=r[t]})),o.current.style.borderColor="transparent",(null==t?void 0:t.color)&&(o.current.style.color=t.color),(null==t?void 0:t.backgroundColor)&&(o.current.style.backgroundColor=t.backgroundColor)}}),[o,e]),setLinkifyText:function(t){(null==o?void 0:o.current)&&e.current&&(o.current.innerHTML=r(e.current.value,{target:t}))},copyTextToMirroredRef:function(){(null==e?void 0:e.current)&&(null==o?void 0:o.current)&&(o.current.textContent=e.current.value)}}}(C,T),k=S.resizeObserver,O=S.applyStyleToMirroredRef,w=S.setLinkifyText,E=S.copyTextToMirroredRef;return t.useEffect((function(){E(),O(u),w(g)}),[u,E]),t.useEffect((function(){if(null==C?void 0:C.current)return k.observe(C.current),function(){k.disconnect()}}),[C,k]),t.useEffect((function(){if((null==C?void 0:C.current)&&(null==T?void 0:T.current)){var e=function(){C.current&&T.current&&(T.current.scrollTop=C.current.scrollTop)},t=function(){w(g)};return C.current.addEventListener("scroll",e),C.current.addEventListener("input",t),function(){var r,n;null===(r=C.current)||void 0===r||r.removeEventListener("scroll",e),null===(n=C.current)||void 0===n||n.removeEventListener("input",t)}}}),[C,T,g,w]),e.jsxs("div",{className:"link-textarea-container ".concat(d),style:Object.assign(Object.assign({},c),{position:"relative"}),children:[e.jsx("textarea",Object.assign({ref:function(e){C.current=e,"function"==typeof i?i(e):i&&(i.current=e)},className:"link-textarea-container__textarea ".concat(p),style:Object.assign(Object.assign({width:"100%",height:"100%",caretColor:x},u),{color:"transparent",position:"relative"})},b)),e.jsx("div",{ref:T,className:"link-textarea-container__mirror",style:{color:y,width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,userSelect:"none",overflow:"hidden",pointerEvents:"none"}})]})}));module.exports=o;
//# sourceMappingURL=bundle.js.map
